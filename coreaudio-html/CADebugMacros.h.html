<!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
<i><font color="#9A1900">/*   Path: ~/lab/CoreAudioUtilityClasses/Mac/CoreAudioUtilityClasses/CoreAudio/PublicUtility/CADebugMacros.h  */</font></i>

<i><font color="#9A1900">/*</font></i>
<i><font color="#9A1900">     File: CADebugMacros.h </font></i>
<i><font color="#9A1900"> Abstract:  Part of CoreAudio Utility Classes  </font></i>
<i><font color="#9A1900">  Version: 1.0.4 </font></i>
<i><font color="#9A1900">  </font></i>
<i><font color="#9A1900"> Disclaimer: IMPORTANT:  This Apple software is supplied to you by Apple </font></i>
<i><font color="#9A1900"> Inc. ("Apple") in consideration of your agreement to the following </font></i>
<i><font color="#9A1900"> terms, and your use, installation, modification or redistribution of </font></i>
<i><font color="#9A1900"> this Apple software constitutes acceptance of these terms.  If you do </font></i>
<i><font color="#9A1900"> not agree with these terms, please do not use, install, modify or </font></i>
<i><font color="#9A1900"> redistribute this Apple software. </font></i>
<i><font color="#9A1900">  </font></i>
<i><font color="#9A1900"> In consideration of your agreement to abide by the following terms, and </font></i>
<i><font color="#9A1900"> subject to these terms, Apple grants you a personal, non-exclusive </font></i>
<i><font color="#9A1900"> license, under Apple's copyrights in this original Apple software (the </font></i>
<i><font color="#9A1900"> "Apple Software"), to use, reproduce, modify and redistribute the Apple </font></i>
<i><font color="#9A1900"> Software, with or without modifications, in source and/or binary forms; </font></i>
<i><font color="#9A1900"> provided that if you redistribute the Apple Software in its entirety and </font></i>
<i><font color="#9A1900"> without modifications, you must retain this notice and the following </font></i>
<i><font color="#9A1900"> text and disclaimers in all such redistributions of the Apple Software. </font></i>
<i><font color="#9A1900"> Neither the name, trademarks, service marks or logos of Apple Inc. may </font></i>
<i><font color="#9A1900"> be used to endorse or promote products derived from the Apple Software </font></i>
<i><font color="#9A1900"> without specific prior written permission from Apple.  Except as </font></i>
<i><font color="#9A1900"> expressly stated in this notice, no other rights or licenses, express or </font></i>
<i><font color="#9A1900"> implied, are granted by Apple herein, including but not limited to any </font></i>
<i><font color="#9A1900"> patent rights that may be infringed by your derivative works or by other </font></i>
<i><font color="#9A1900"> works in which the Apple Software may be incorporated. </font></i>
<i><font color="#9A1900">  </font></i>
<i><font color="#9A1900"> The Apple Software is provided by Apple on an "AS IS" basis.  APPLE </font></i>
<i><font color="#9A1900"> MAKES NO WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION </font></i>
<i><font color="#9A1900"> THE IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY AND FITNESS </font></i>
<i><font color="#9A1900"> FOR A PARTICULAR PURPOSE, REGARDING THE APPLE SOFTWARE OR ITS USE AND </font></i>
<i><font color="#9A1900"> OPERATION ALONE OR IN COMBINATION WITH YOUR PRODUCTS. </font></i>
<i><font color="#9A1900">  </font></i>
<i><font color="#9A1900"> IN NO EVENT SHALL APPLE BE LIABLE FOR ANY SPECIAL, INDIRECT, INCIDENTAL </font></i>
<i><font color="#9A1900"> OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF </font></i>
<i><font color="#9A1900"> SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS </font></i>
<i><font color="#9A1900"> INTERRUPTION) ARISING IN ANY WAY OUT OF THE USE, REPRODUCTION, </font></i>
<i><font color="#9A1900"> MODIFICATION AND/OR DISTRIBUTION OF THE APPLE SOFTWARE, HOWEVER CAUSED </font></i>
<i><font color="#9A1900"> AND WHETHER UNDER THEORY OF CONTRACT, TORT (INCLUDING NEGLIGENCE), </font></i>
<i><font color="#9A1900"> STRICT LIABILITY OR OTHERWISE, EVEN IF APPLE HAS BEEN ADVISED OF THE </font></i>
<i><font color="#9A1900"> POSSIBILITY OF SUCH DAMAGE. </font></i>
<i><font color="#9A1900">  </font></i>
<i><font color="#9A1900"> Copyright (C) 2013 Apple Inc. All Rights Reserved. </font></i>
<i><font color="#9A1900">  </font></i>
<i><font color="#9A1900">*/</font></i>
<b><font color="#000080">#if</font></b> <font color="#990000">!</font><b><font color="#000000">defined</font></b><font color="#990000">(</font>__CADebugMacros_h__<font color="#990000">)</font>
<b><font color="#000080">#define</font></b> __CADebugMacros_h__

<i><font color="#9A1900">//=============================================================================</font></i>
<i><font color="#9A1900">//	Includes</font></i>
<i><font color="#9A1900">//=============================================================================</font></i>

<b><font color="#000080">#if</font></b> <font color="#990000">!</font><b><font color="#000000">defined</font></b><font color="#990000">(</font>__COREAUDIO_USE_FLAT_INCLUDES__<font color="#990000">)</font>
<b><font color="#000080">	#include</font></b> <font color="#FF0000">&lt;CoreAudio/CoreAudioTypes.h&gt;</font>
<b><font color="#000080">#else</font></b>
<b><font color="#000080">	#include</font></b> <font color="#FF0000">"CoreAudioTypes.h"</font>
<b><font color="#000080">#endif</font></b>

<i><font color="#9A1900">//=============================================================================</font></i>
<i><font color="#9A1900">//	CADebugMacros</font></i>
<i><font color="#9A1900">//=============================================================================</font></i>

<i><font color="#9A1900">//#define	CoreAudio_StopOnFailure			1</font></i>
<i><font color="#9A1900">//#define	CoreAudio_TimeStampMessages		1</font></i>
<i><font color="#9A1900">//#define	CoreAudio_ThreadStampMessages	1</font></i>
<i><font color="#9A1900">//#define	CoreAudio_FlushDebugMessages	1</font></i>

<b><font color="#000080">#if</font></b> TARGET_RT_BIG_ENDIAN
<b><font color="#000080">	#define</font></b>	<b><font color="#000000">CA4CCToCString</font></b><font color="#990000">(</font>the4CC<font color="#990000">)</font>					<font color="#FF0000">{</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">0</font><font color="#990000">],</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">1</font><font color="#990000">],</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">2</font><font color="#990000">],</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">3</font><font color="#990000">],</font> <font color="#993399">0</font> <font color="#FF0000">}</font>
<b><font color="#000080">	#define</font></b> <b><font color="#000000">CACopy4CCToCString</font></b><font color="#990000">(</font>theCString<font color="#990000">,</font> the4CC<font color="#990000">)</font>	<font color="#FF0000">{</font> theCString<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">0</font><font color="#990000">];</font> theCString<font color="#990000">[</font><font color="#993399">1</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">1</font><font color="#990000">];</font> theCString<font color="#990000">[</font><font color="#993399">2</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">2</font><font color="#990000">];</font> theCString<font color="#990000">[</font><font color="#993399">3</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">3</font><font color="#990000">];</font> theCString<font color="#990000">[</font><font color="#993399">4</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> <font color="#FF0000">}</font>
<b><font color="#000080">#else</font></b>
<b><font color="#000080">	#define</font></b>	<b><font color="#000000">CA4CCToCString</font></b><font color="#990000">(</font>the4CC<font color="#990000">)</font>					<font color="#FF0000">{</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">3</font><font color="#990000">],</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">2</font><font color="#990000">],</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">1</font><font color="#990000">],</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">0</font><font color="#990000">],</font> <font color="#993399">0</font> <font color="#FF0000">}</font>
<b><font color="#000080">	#define</font></b> <b><font color="#000000">CACopy4CCToCString</font></b><font color="#990000">(</font>theCString<font color="#990000">,</font> the4CC<font color="#990000">)</font>	<font color="#FF0000">{</font> theCString<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">3</font><font color="#990000">];</font> theCString<font color="#990000">[</font><font color="#993399">1</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">2</font><font color="#990000">];</font> theCString<font color="#990000">[</font><font color="#993399">2</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">1</font><font color="#990000">];</font> theCString<font color="#990000">[</font><font color="#993399">3</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#990000">((</font><font color="#009900">char</font><font color="#990000">*)&amp;</font>the4CC<font color="#990000">)[</font><font color="#993399">0</font><font color="#990000">];</font> theCString<font color="#990000">[</font><font color="#993399">4</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> <font color="#FF0000">}</font>
<b><font color="#000080">#endif</font></b>

<i><font color="#9A1900">//	This is a macro that does a sizeof and casts the result to a UInt32. This is useful for all the</font></i>
<i><font color="#9A1900">//	places where -wshorten64-32 catches assigning a sizeof expression to a UInt32.</font></i>
<i><font color="#9A1900">//	For want of a better place to park this, we'll park it here.</font></i>
<b><font color="#000080">#define</font></b>	<b><font color="#000000">SizeOf32</font></b><font color="#990000">(</font>X<font color="#990000">)</font>	<font color="#990000">((</font>UInt32<font color="#990000">)</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>X<font color="#990000">))</font>

<i><font color="#9A1900">//	This is a macro that does a offsetof and casts the result to a UInt32. This is useful for all the</font></i>
<i><font color="#9A1900">//	places where -wshorten64-32 catches assigning an offsetof expression to a UInt32.</font></i>
<i><font color="#9A1900">//	For want of a better place to park this, we'll park it here.</font></i>
<b><font color="#000080">#define</font></b>	<b><font color="#000000">OffsetOf32</font></b><font color="#990000">(</font>X<font color="#990000">,</font> Y<font color="#990000">)</font>	<font color="#990000">((</font>UInt32<font color="#990000">)</font><b><font color="#000000">offsetof</font></b><font color="#990000">(</font>X<font color="#990000">,</font> Y<font color="#990000">))</font>

<i><font color="#9A1900">//	This macro casts the expression to a UInt32. It is called out specially to allow us to track casts</font></i>
<i><font color="#9A1900">//	that have been added purely to avert -wshorten64-32 warnings on 64 bit platforms.</font></i>
<i><font color="#9A1900">//	For want of a better place to park this, we'll park it here.</font></i>
<b><font color="#000080">#define</font></b>	<b><font color="#000000">ToUInt32</font></b><font color="#990000">(</font>X<font color="#990000">)</font>	<font color="#990000">((</font>UInt32<font color="#990000">)(</font>X<font color="#990000">))</font>

<b><font color="#000080">#pragma</font></b> mark	Basic Definitions

<b><font color="#000080">#if</font></b>	DEBUG <font color="#990000">||</font> CoreAudio_Debug
	<i><font color="#9A1900">// can be used to break into debugger immediately, also see CADebugger</font></i>
<b><font color="#000080">	#define</font></b> <b><font color="#000000">BusError</font></b><font color="#990000">()</font>		<font color="#FF0000">{</font> <font color="#009900">long</font><font color="#990000">*</font> p<font color="#990000">=</font>NULL<font color="#990000">;</font> <font color="#990000">*</font>p<font color="#990000">=</font><font color="#993399">0</font><font color="#990000">;</font> <font color="#FF0000">}</font>
	
	<i><font color="#9A1900">//	basic debugging print routines</font></i>
<b><font color="#000080">	#if</font></b>	TARGET_OS_MAC <font color="#990000">&amp;&amp;</font> <font color="#990000">!</font>TARGET_API_MAC_CARBON
		<b><font color="#0000FF">extern</font></b> <font color="#009900">void</font> <b><font color="#000000">DebugStr</font></b><font color="#990000">(</font><b><font color="#0000FF">const</font></b> <font color="#009900">unsigned</font> <font color="#009900">char</font><font color="#990000">*</font> debuggerMsg<font color="#990000">);</font>
<b><font color="#000080">		#define</font></b>	<b><font color="#000000">DebugMessage</font></b><font color="#990000">(</font>msg<font color="#990000">)</font>	<b><font color="#000000">DebugStr</font></b><font color="#990000">(</font><font color="#FF0000">"</font><font color="#CC33CC">\p</font><font color="#FF0000">"</font>msg<font color="#990000">)</font>
<b><font color="#000080">		#define</font></b> <b><font color="#000000">DebugMessageN1</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">)</font>
<b><font color="#000080">		#define</font></b> <b><font color="#000000">DebugMessageN2</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">)</font>
<b><font color="#000080">		#define</font></b> <b><font color="#000000">DebugMessageN3</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">)</font>
<b><font color="#000080">	#else</font></b>
<b><font color="#000080">		#include</font></b> <font color="#FF0000">"CADebugPrintf.h"</font>
		
<b><font color="#000080">		#if</font></b>	<font color="#990000">(</font>CoreAudio_FlushDebugMessages <font color="#990000">&amp;&amp;</font> <font color="#990000">!</font>CoreAudio_UseSysLog<font color="#990000">)</font> <font color="#990000">||</font> <b><font color="#000000">defined</font></b><font color="#990000">(</font>CoreAudio_UseSideFile<font color="#990000">)</font>
<b><font color="#000080">			#define</font></b>	FlushRtn	<font color="#990000">,</font><b><font color="#000000">fflush</font></b><font color="#990000">(</font>DebugPrintfFile<font color="#990000">)</font>
<b><font color="#000080">		#else</font></b>
<b><font color="#000080">			#define</font></b>	FlushRtn
<b><font color="#000080">		#endif</font></b>
		
<b><font color="#000080">		#if</font></b>		CoreAudio_ThreadStampMessages
<b><font color="#000080">			#include</font></b> <font color="#FF0000">&lt;pthread.h&gt;</font>
<b><font color="#000080">			#include</font></b> <font color="#FF0000">"CAHostTimeBase.h"</font>
<b><font color="#000080">			#if</font></b> TARGET_RT_64_BIT
<b><font color="#000080">				#define</font></b>	DebugPrintfThreadIDFormat	<font color="#FF0000">"%16p"</font>
<b><font color="#000080">			#else</font></b>
<b><font color="#000080">				#define</font></b>	DebugPrintfThreadIDFormat	<font color="#FF0000">"%8p"</font>
<b><font color="#000080">			#endif</font></b>
<b><font color="#000080">			#define</font></b>	<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>inFormat<font color="#990000">,</font> <font color="#990000">...)</font>	<b><font color="#000000">DebugPrintf</font></b><font color="#990000">(</font><font color="#FF0000">"%17qd: "</font> DebugPrintfThreadIDFormat <font color="#FF0000">" "</font> inFormat<font color="#990000">,</font> CAHostTimeBase<font color="#990000">::</font><b><font color="#000000">GetCurrentTimeInNanos</font></b><font color="#990000">(),</font> <b><font color="#000000">pthread_self</font></b><font color="#990000">(),</font> ## __VA_ARGS__<font color="#990000">)</font> FlushRtn
<b><font color="#000080">		#elif</font></b>	CoreAudio_TimeStampMessages
<b><font color="#000080">			#include</font></b> <font color="#FF0000">"CAHostTimeBase.h"</font>
<b><font color="#000080">			#define</font></b>	<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>inFormat<font color="#990000">,</font> <font color="#990000">...)</font>	<b><font color="#000000">DebugPrintf</font></b><font color="#990000">(</font><font color="#FF0000">"%17qd: "</font> inFormat<font color="#990000">,</font> CAHostTimeBase<font color="#990000">::</font><b><font color="#000000">GetCurrentTimeInNanos</font></b><font color="#990000">(),</font> ## __VA_ARGS__<font color="#990000">)</font> FlushRtn
<b><font color="#000080">		#else</font></b>
<b><font color="#000080">			#define</font></b>	<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>inFormat<font color="#990000">,</font> <font color="#990000">...)</font>	<b><font color="#000000">DebugPrintf</font></b><font color="#990000">(</font>inFormat<font color="#990000">,</font> ## __VA_ARGS__<font color="#990000">)</font> FlushRtn
<b><font color="#000080">		#endif</font></b>
<b><font color="#000080">	#endif</font></b>
	<font color="#009900">void</font>	<b><font color="#000000">DebugPrint</font></b><font color="#990000">(</font><b><font color="#0000FF">const</font></b> <font color="#009900">char</font> <font color="#990000">*</font>fmt<font color="#990000">,</font> <font color="#990000">...);</font>	<i><font color="#9A1900">// can be used like printf</font></i>
<b><font color="#000080">	#ifndef</font></b> DEBUGPRINT
<b><font color="#000080">		#define</font></b> <b><font color="#000000">DEBUGPRINT</font></b><font color="#990000">(</font>msg<font color="#990000">)</font> <font color="#008080">DebugPrint</font> msg		<i><font color="#9A1900">// have to double-parenthesize arglist (see Debugging.h)</font></i>
<b><font color="#000080">	#endif</font></b>
<b><font color="#000080">	#if</font></b> VERBOSE
<b><font color="#000080">		#define</font></b> <b><font color="#000000">vprint</font></b><font color="#990000">(</font>msg<font color="#990000">)</font> <b><font color="#000000">DEBUGPRINT</font></b><font color="#990000">(</font>msg<font color="#990000">)</font>
<b><font color="#000080">	#else</font></b>
<b><font color="#000080">		#define</font></b> <b><font color="#000000">vprint</font></b><font color="#990000">(</font>msg<font color="#990000">)</font>
<b><font color="#000080">	#endif</font></b>
	
	<i><font color="#9A1900">// Original macro keeps its function of turning on and off use of CADebuggerStop() for both asserts and throws.</font></i>
	<i><font color="#9A1900">// For backwards compat, it overrides any setting of the two sub-macros.</font></i>
<b><font color="#000080">	#if</font></b>	CoreAudio_StopOnFailure
<b><font color="#000080">		#include</font></b> <font color="#FF0000">"CADebugger.h"</font>
<b><font color="#000080">		#undef</font></b> CoreAudio_StopOnAssert
<b><font color="#000080">		#define</font></b> CoreAudio_StopOnAssert <font color="#993399">1</font>
<b><font color="#000080">		#undef</font></b> CoreAudio_StopOnThrow
<b><font color="#000080">		#define</font></b> CoreAudio_StopOnThrow <font color="#993399">1</font>
<b><font color="#000080">		#define</font></b> <font color="#008080">STOP</font>	<b><font color="#000000">CADebuggerStop</font></b><font color="#990000">()</font>
<b><font color="#000080">	#else</font></b>
<b><font color="#000080">		#define</font></b> STOP
<b><font color="#000080">	#endif</font></b>

<b><font color="#000080">	#if</font></b> CoreAudio_StopOnAssert
<b><font color="#000080">		#if</font></b> <font color="#990000">!</font>CoreAudio_StopOnFailure
<b><font color="#000080">			#include</font></b> <font color="#FF0000">"CADebugger.h"</font>
<b><font color="#000080">			#define</font></b> STOP
<b><font color="#000080">		#endif</font></b>
<b><font color="#000080">		#define</font></b> <font color="#008080">__ASSERT_STOP</font> <b><font color="#000000">CADebuggerStop</font></b><font color="#990000">()</font>
<b><font color="#000080">	#else</font></b>
<b><font color="#000080">		#define</font></b> __ASSERT_STOP
<b><font color="#000080">	#endif</font></b>

<b><font color="#000080">	#if</font></b> CoreAudio_StopOnThrow
<b><font color="#000080">		#if</font></b> <font color="#990000">!</font>CoreAudio_StopOnFailure
<b><font color="#000080">			#include</font></b> <font color="#FF0000">"CADebugger.h"</font>
<b><font color="#000080">			#define</font></b> STOP
<b><font color="#000080">		#endif</font></b>
<b><font color="#000080">		#define</font></b> <font color="#008080">__THROW_STOP</font> <b><font color="#000000">CADebuggerStop</font></b><font color="#990000">()</font>
<b><font color="#000080">	#else</font></b>
<b><font color="#000080">		#define</font></b> __THROW_STOP
<b><font color="#000080">	#endif</font></b>

<b><font color="#000080">#else</font></b>
<b><font color="#000080">	#define</font></b>	<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>inFormat<font color="#990000">,</font> <font color="#990000">...)</font>
<b><font color="#000080">	#ifndef</font></b> DEBUGPRINT
<b><font color="#000080">		#define</font></b> <b><font color="#000000">DEBUGPRINT</font></b><font color="#990000">(</font>msg<font color="#990000">)</font>
<b><font color="#000080">	#endif</font></b>
<b><font color="#000080">	#define</font></b> <b><font color="#000000">vprint</font></b><font color="#990000">(</font>msg<font color="#990000">)</font>
<b><font color="#000080">	#define</font></b>	STOP
<b><font color="#000080">	#define</font></b> __ASSERT_STOP
<b><font color="#000080">	#define</font></b> __THROW_STOP
<b><font color="#000080">#endif</font></b>

<i><font color="#9A1900">//	Old-style numbered DebugMessage calls are implemented in terms of DebugMsg() now</font></i>
<b><font color="#000080">#define</font></b>	<b><font color="#000000">DebugMessage</font></b><font color="#990000">(</font>msg<font color="#990000">)</font>										<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>msg<font color="#990000">)</font>
<b><font color="#000080">#define</font></b> <b><font color="#000000">DebugMessageN1</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">)</font>									<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">)</font>
<b><font color="#000080">#define</font></b> <b><font color="#000000">DebugMessageN2</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">)</font>								<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">)</font>
<b><font color="#000080">#define</font></b> <b><font color="#000000">DebugMessageN3</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">)</font>							<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">)</font>
<b><font color="#000080">#define</font></b> <b><font color="#000000">DebugMessageN4</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">)</font>						<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">)</font>
<b><font color="#000080">#define</font></b> <b><font color="#000000">DebugMessageN5</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">,</font> N5<font color="#990000">)</font>					<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">,</font> N5<font color="#990000">)</font>
<b><font color="#000080">#define</font></b> <b><font color="#000000">DebugMessageN6</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">,</font> N5<font color="#990000">,</font> N6<font color="#990000">)</font>				<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">,</font> N5<font color="#990000">,</font> N6<font color="#990000">)</font>
<b><font color="#000080">#define</font></b> <b><font color="#000000">DebugMessageN7</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">,</font> N5<font color="#990000">,</font> N6<font color="#990000">,</font> N7<font color="#990000">)</font>			<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">,</font> N5<font color="#990000">,</font> N6<font color="#990000">,</font> N7<font color="#990000">)</font>
<b><font color="#000080">#define</font></b> <b><font color="#000000">DebugMessageN8</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">,</font> N5<font color="#990000">,</font> N6<font color="#990000">,</font> N7<font color="#990000">,</font> N8<font color="#990000">)</font>		<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">,</font> N5<font color="#990000">,</font> N6<font color="#990000">,</font> N7<font color="#990000">,</font> N8<font color="#990000">)</font>
<b><font color="#000080">#define</font></b> <b><font color="#000000">DebugMessageN9</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">,</font> N5<font color="#990000">,</font> N6<font color="#990000">,</font> N7<font color="#990000">,</font> N8<font color="#990000">,</font> N9<font color="#990000">)</font>	<b><font color="#000000">DebugMsg</font></b><font color="#990000">(</font>msg<font color="#990000">,</font> N1<font color="#990000">,</font> N2<font color="#990000">,</font> N3<font color="#990000">,</font> N4<font color="#990000">,</font> N5<font color="#990000">,</font> N6<font color="#990000">,</font> N7<font color="#990000">,</font> N8<font color="#990000">,</font> N9<font color="#990000">)</font>

<font color="#009900">void</font>	<b><font color="#000000">LogError</font></b><font color="#990000">(</font><b><font color="#0000FF">const</font></b> <font color="#009900">char</font> <font color="#990000">*</font>fmt<font color="#990000">,</font> <font color="#990000">...);</font>			<i><font color="#9A1900">// writes to syslog (and stderr if debugging)</font></i>
<font color="#009900">void</font>	<b><font color="#000000">LogWarning</font></b><font color="#990000">(</font><b><font color="#0000FF">const</font></b> <font color="#009900">char</font> <font color="#990000">*</font>fmt<font color="#990000">,</font> <font color="#990000">...);</font>		<i><font color="#9A1900">// writes to syslog (and stderr if debugging)</font></i>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">NO_ACTION</font></b>	<font color="#990000">(</font><font color="#009900">void</font><font color="#990000">)</font><font color="#993399">0</font>

<b><font color="#000080">#if</font></b>	DEBUG <font color="#990000">||</font> CoreAudio_Debug

<b><font color="#000080">#pragma</font></b> mark	Debug Macros

<b><font color="#000080">#define</font></b>	<b><font color="#000000">Assert</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inMessage<font color="#990000">)</font>													<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(!(</font>inCondition<font color="#990000">))</font>															<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">DebugMessage</font></b><font color="#990000">(</font>inMessage<font color="#990000">);</font>												<font color="#990000">\</font>
				__ASSERT_STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">AssertFileLine</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inMessage<font color="#990000">)</font>											<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(!(</font>inCondition<font color="#990000">))</font>															<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">DebugMessageN3</font></b><font color="#990000">(</font><font color="#FF0000">"%s, line %d: %s"</font><font color="#990000">,</font> __FILE__<font color="#990000">,</font> __LINE__<font color="#990000">,</font> inMessage<font color="#990000">);</font>		<font color="#990000">\</font>
				__ASSERT_STOP<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">AssertNoError</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inMessage<font color="#990000">)</font>												<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#008080">SInt32</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inError<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<font color="#009900">char</font> __4CC<font color="#990000">[</font><font color="#993399">5</font><font color="#990000">]</font> <font color="#990000">=</font> <b><font color="#000000">CA4CCToCString</font></b><font color="#990000">(</font>__Err<font color="#990000">);</font>								<font color="#990000">\</font>
					<b><font color="#000000">DebugMessageN2</font></b><font color="#990000">(</font>inMessage <font color="#FF0000">", Error: %d (%s)"</font><font color="#990000">,</font> <font color="#990000">(</font><font color="#009900">int</font><font color="#990000">)</font>__Err<font color="#990000">,</font> __4CC<font color="#990000">);</font>		<font color="#990000">\</font>
					__ASSERT_STOP<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">AssertNoKernelError</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inMessage<font color="#990000">)</font>											<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#009900">unsigned</font> <font color="#009900">int</font> __Err <font color="#990000">=</font> <font color="#990000">(</font><font color="#009900">unsigned</font> <font color="#009900">int</font><font color="#990000">)(</font>inError<font color="#990000">);</font>							<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<b><font color="#000000">DebugMessageN1</font></b><font color="#990000">(</font>inMessage <font color="#FF0000">", Error: 0x%X"</font><font color="#990000">,</font> __Err<font color="#990000">);</font>					<font color="#990000">\</font>
					__ASSERT_STOP<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">AssertNotNULL</font></b><font color="#990000">(</font>inPtr<font color="#990000">,</font> inMessage<font color="#990000">)</font>													<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">((</font>inPtr<font color="#990000">)</font> <font color="#990000">==</font> NULL<font color="#990000">)</font>														<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<b><font color="#000000">DebugMessage</font></b><font color="#990000">(</font>inMessage<font color="#990000">);</font>											<font color="#990000">\</font>
					__ASSERT_STOP<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIf</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>										<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(</font>inCondition<font color="#990000">)</font>																<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">DebugMessage</font></b><font color="#990000">(</font>inMessage<font color="#990000">);</font>												<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailWithAction</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>						<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(</font>inCondition<font color="#990000">)</font>																<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">DebugMessage</font></b><font color="#990000">(</font>inMessage<font color="#990000">);</font>												<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>															<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfNULL</font></b><font color="#990000">(</font>inPointer<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>							<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">((</font>inPointer<font color="#990000">)</font> <font color="#990000">==</font> NULL<font color="#990000">)</font>														<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">DebugMessage</font></b><font color="#990000">(</font>inMessage<font color="#990000">);</font>												<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>															<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfKernelError</font></b><font color="#990000">(</font>inKernelError<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>				<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#009900">unsigned</font> <font color="#009900">int</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inKernelError<font color="#990000">);</font>									<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<b><font color="#000000">DebugMessageN1</font></b><font color="#990000">(</font>inMessage <font color="#FF0000">", Error: 0x%X"</font><font color="#990000">,</font> __Err<font color="#990000">);</font>					<font color="#990000">\</font>
					STOP<font color="#990000">;</font>																<font color="#990000">\</font>
					<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>														<font color="#990000">\</font>
					<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfError</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>							<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#008080">SInt32</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inError<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<font color="#009900">char</font> __4CC<font color="#990000">[</font><font color="#993399">5</font><font color="#990000">]</font> <font color="#990000">=</font> <b><font color="#000000">CA4CCToCString</font></b><font color="#990000">(</font>__Err<font color="#990000">);</font>								<font color="#990000">\</font>
					<b><font color="#000000">DebugMessageN2</font></b><font color="#990000">(</font>inMessage <font color="#FF0000">", Error: %ld (%s)"</font><font color="#990000">,</font> <font color="#990000">(</font><font color="#009900">long</font> <font color="#009900">int</font><font color="#990000">)</font>__Err<font color="#990000">,</font> __4CC<font color="#990000">);</font>	<font color="#990000">\</font>
					STOP<font color="#990000">;</font>																<font color="#990000">\</font>
					<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>														<font color="#990000">\</font>
					<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfNoMessage</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>								<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(</font>inCondition<font color="#990000">)</font>																<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailWithActionNoMessage</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>			<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(</font>inCondition<font color="#990000">)</font>																<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>															<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfNULLNoMessage</font></b><font color="#990000">(</font>inPointer<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>					<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">((</font>inPointer<font color="#990000">)</font> <font color="#990000">==</font> NULL<font color="#990000">)</font>														<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>															<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfKernelErrorNoMessage</font></b><font color="#990000">(</font>inKernelError<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>		<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#009900">unsigned</font> <font color="#009900">int</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inKernelError<font color="#990000">);</font>									<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					STOP<font color="#990000">;</font>																<font color="#990000">\</font>
					<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>														<font color="#990000">\</font>
					<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfErrorNoMessage</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>					<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#008080">SInt32</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inError<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					STOP<font color="#990000">;</font>																<font color="#990000">\</font>
					<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>														<font color="#990000">\</font>
					<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#if</font></b> <b><font color="#000000">defined</font></b><font color="#990000">(</font>__cplusplus<font color="#990000">)</font>

<b><font color="#000080">#define</font></b> <b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">)</font>  __THROW_STOP<font color="#990000">;</font> <b><font color="#0000FF">throw</font></b> <font color="#990000">(</font>inException<font color="#990000">)</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">ThrowIf</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inException<font color="#990000">,</font> inMessage<font color="#990000">)</font>									<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(</font>inCondition<font color="#990000">)</font>																<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">DebugMessage</font></b><font color="#990000">(</font>inMessage<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>														<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">ThrowIfNULL</font></b><font color="#990000">(</font>inPointer<font color="#990000">,</font> inException<font color="#990000">,</font> inMessage<font color="#990000">)</font>									<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">((</font>inPointer<font color="#990000">)</font> <font color="#990000">==</font> NULL<font color="#990000">)</font>														<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">DebugMessage</font></b><font color="#990000">(</font>inMessage<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>														<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">ThrowIfKernelError</font></b><font color="#990000">(</font>inKernelError<font color="#990000">,</font> inException<font color="#990000">,</font> inMessage<font color="#990000">)</font>						<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#009900">unsigned</font> <font color="#009900">int</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inKernelError<font color="#990000">);</font>									<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<b><font color="#000000">DebugMessageN1</font></b><font color="#990000">(</font>inMessage <font color="#FF0000">", Error: 0x%X"</font><font color="#990000">,</font> __Err<font color="#990000">);</font>					<font color="#990000">\</font>
					<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>													<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">ThrowIfError</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inException<font color="#990000">,</font> inMessage<font color="#990000">)</font>									<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#008080">SInt32</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inError<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<font color="#009900">char</font> __4CC<font color="#990000">[</font><font color="#993399">5</font><font color="#990000">]</font> <font color="#990000">=</font> <b><font color="#000000">CA4CCToCString</font></b><font color="#990000">(</font>__Err<font color="#990000">);</font>								<font color="#990000">\</font>
					<b><font color="#000000">DebugMessageN2</font></b><font color="#990000">(</font>inMessage <font color="#FF0000">", Error: %d (%s)"</font><font color="#990000">,</font> <font color="#990000">(</font><font color="#009900">int</font><font color="#990000">)</font>__Err<font color="#990000">,</font> __4CC<font color="#990000">);</font>		<font color="#990000">\</font>
					<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>													<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#if</font></b> TARGET_OS_WIN32
<b><font color="#000080">#define</font></b>	<b><font color="#000000">ThrowIfWinError</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inException<font color="#990000">,</font> inMessage<font color="#990000">)</font>								<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#008080">HRESULT</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inError<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font><b><font color="#000000">FAILED</font></b><font color="#990000">(</font>__Err<font color="#990000">))</font>														<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<b><font color="#000000">DebugMessageN2</font></b><font color="#990000">(</font>inMessage <font color="#FF0000">", Code: %d, Facility: 0x%X"</font><font color="#990000">,</font> <b><font color="#000000">HRESULT_CODE</font></b><font color="#990000">(</font>__Err<font color="#990000">),</font> <b><font color="#000000">HRESULT_FACILITY</font></b><font color="#990000">(</font>__Err<font color="#990000">));</font>			<font color="#990000">\</font>
					<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>													<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>
<b><font color="#000080">#endif</font></b>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">SubclassResponsibility</font></b><font color="#990000">(</font>inMethodName<font color="#990000">,</font> inException<font color="#990000">)</font>								<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">DebugMessage</font></b><font color="#990000">(</font>inMethodName<font color="#FF0000">": Subclasses must implement this method"</font><font color="#990000">);</font>	<font color="#990000">\</font>
				<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>														<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#endif</font></b>	<i><font color="#9A1900">//	defined(__cplusplus)</font></i>

<b><font color="#000080">#else</font></b>

<b><font color="#000080">#pragma</font></b> mark	Release Macros

<b><font color="#000080">#define</font></b>	<b><font color="#000000">Assert</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inMessage<font color="#990000">)</font>													<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(!(</font>inCondition<font color="#990000">))</font>															<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				__ASSERT_STOP<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b> <b><font color="#000000">AssertFileLine</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inMessage<font color="#990000">)</font> <b><font color="#000000">Assert</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inMessage<font color="#990000">)</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">AssertNoError</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inMessage<font color="#990000">)</font>												<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#008080">SInt32</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inError<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					__ASSERT_STOP<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">AssertNoKernelError</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inMessage<font color="#990000">)</font>											<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#009900">unsigned</font> <font color="#009900">int</font> __Err <font color="#990000">=</font> <font color="#990000">(</font><font color="#009900">unsigned</font> <font color="#009900">int</font><font color="#990000">)(</font>inError<font color="#990000">);</font>							<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					__ASSERT_STOP<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">AssertNotNULL</font></b><font color="#990000">(</font>inPtr<font color="#990000">,</font> inMessage<font color="#990000">)</font>													<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">((</font>inPtr<font color="#990000">)</font> <font color="#990000">==</font> NULL<font color="#990000">)</font>														<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					__ASSERT_STOP<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIf</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>										<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(</font>inCondition<font color="#990000">)</font>																<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailWithAction</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>						<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(</font>inCondition<font color="#990000">)</font>																<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>															<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfNULL</font></b><font color="#990000">(</font>inPointer<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>							<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">((</font>inPointer<font color="#990000">)</font> <font color="#990000">==</font> NULL<font color="#990000">)</font>														<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>															<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfKernelError</font></b><font color="#990000">(</font>inKernelError<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>				<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">((</font>inKernelError<font color="#990000">)</font> <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>													<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>															<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfError</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>							<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">((</font>inError<font color="#990000">)</font> <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>															<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfNoMessage</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>								<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(</font>inCondition<font color="#990000">)</font>																<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailWithActionNoMessage</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>			<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(</font>inCondition<font color="#990000">)</font>																<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>															<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfNULLNoMessage</font></b><font color="#990000">(</font>inPointer<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>					<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">((</font>inPointer<font color="#990000">)</font> <font color="#990000">==</font> NULL<font color="#990000">)</font>														<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				STOP<font color="#990000">;</font>																	<font color="#990000">\</font>
				<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>															<font color="#990000">\</font>
				<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>															<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfKernelErrorNoMessage</font></b><font color="#990000">(</font>inKernelError<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>		<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#009900">unsigned</font> <font color="#009900">int</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inKernelError<font color="#990000">);</font>									<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					STOP<font color="#990000">;</font>																<font color="#990000">\</font>
					<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>														<font color="#990000">\</font>
					<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">FailIfErrorNoMessage</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inAction<font color="#990000">,</font> inHandler<font color="#990000">,</font> inMessage<font color="#990000">)</font>					<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#008080">SInt32</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inError<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					STOP<font color="#990000">;</font>																<font color="#990000">\</font>
					<font color="#FF0000">{</font> inAction<font color="#990000">;</font> <font color="#FF0000">}</font>														<font color="#990000">\</font>
					<b><font color="#0000FF">goto</font></b> inHandler<font color="#990000">;</font>														<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#if</font></b> <b><font color="#000000">defined</font></b><font color="#990000">(</font>__cplusplus<font color="#990000">)</font>

<b><font color="#000080">#define</font></b> <b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">)</font>  __THROW_STOP<font color="#990000">;</font> <b><font color="#0000FF">throw</font></b> <font color="#990000">(</font>inException<font color="#990000">)</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">ThrowIf</font></b><font color="#990000">(</font>inCondition<font color="#990000">,</font> inException<font color="#990000">,</font> inMessage<font color="#990000">)</font>									<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">(</font>inCondition<font color="#990000">)</font>																<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>														<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">ThrowIfNULL</font></b><font color="#990000">(</font>inPointer<font color="#990000">,</font> inException<font color="#990000">,</font> inMessage<font color="#990000">)</font>									<font color="#990000">\</font>
			<b><font color="#0000FF">if</font></b><font color="#990000">((</font>inPointer<font color="#990000">)</font> <font color="#990000">==</font> NULL<font color="#990000">)</font>														<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>														<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">ThrowIfKernelError</font></b><font color="#990000">(</font>inKernelError<font color="#990000">,</font> inException<font color="#990000">,</font> inMessage<font color="#990000">)</font>						<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#009900">unsigned</font> <font color="#009900">int</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inKernelError<font color="#990000">);</font>									<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>													<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">ThrowIfError</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inException<font color="#990000">,</font> inMessage<font color="#990000">)</font>									<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#008080">SInt32</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inError<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font>__Err <font color="#990000">!=</font> <font color="#993399">0</font><font color="#990000">)</font>															<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>													<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#if</font></b> TARGET_OS_WIN32
<b><font color="#000080">#define</font></b>	<b><font color="#000000">ThrowIfWinError</font></b><font color="#990000">(</font>inError<font color="#990000">,</font> inException<font color="#990000">,</font> inMessage<font color="#990000">)</font>								<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<font color="#008080">HRESULT</font> __Err <font color="#990000">=</font> <font color="#990000">(</font>inError<font color="#990000">);</font>												<font color="#990000">\</font>
				<b><font color="#0000FF">if</font></b><font color="#990000">(</font><b><font color="#000000">FAILED</font></b><font color="#990000">(</font>__Err<font color="#990000">))</font>														<font color="#990000">\</font>
				<font color="#FF0000">{</font>																		<font color="#990000">\</font>
					<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>													<font color="#990000">\</font>
				<font color="#FF0000">}</font>																		<font color="#990000">\</font>
			<font color="#FF0000">}</font>
<b><font color="#000080">#endif</font></b>

<b><font color="#000080">#define</font></b>	<b><font color="#000000">SubclassResponsibility</font></b><font color="#990000">(</font>inMethodName<font color="#990000">,</font> inException<font color="#990000">)</font>								<font color="#990000">\</font>
			<font color="#FF0000">{</font>																			<font color="#990000">\</font>
				<b><font color="#000000">Throw</font></b><font color="#990000">(</font>inException<font color="#990000">);</font>														<font color="#990000">\</font>
			<font color="#FF0000">}</font>

<b><font color="#000080">#endif</font></b>	<i><font color="#9A1900">//	defined(__cplusplus)</font></i>

<b><font color="#000080">#endif</font></b>  <i><font color="#9A1900">//  DEBUG || CoreAudio_Debug</font></i>

<b><font color="#000080">#endif</font></b>
</tt></pre>
