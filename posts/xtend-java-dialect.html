<!DOCTYPE html><head><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=100.0, user-scalable=1"><meta charset="UTF-8"><title>Xtend - Javaの未来を示すJava方言 - slow living in the sky</title><link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/base-min.css" type="text/css"/><link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/grids-min.css" type="text/css"/><link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/tables-min.css" type="text/css"/><link rel="stylesheet" href="../css/main.css" type="text/css"/><script src="../js/zepto.min.js" type="text/javascript"></script><script src="../js/pre-tab.min.js" type="text/javascript"></script><script src="../js/highlight.pack.js" type="text/javascript"></script><link rel="stylesheet" href="../css/highlight/xcode.css" type="text/css"/><script>// fix spaces
Zepto(function($){
 Pretab.fix();
});

// load highlightjs
hljs.initHighlightingOnLoad();
</script><script>window.device = {
 type: '',
 desktop: false,
 tablet: false,
 mobile: false
};

Zepto(function($){
 var desktop = $('#media_query_desktop').css('display');
 var tablet = $('#media_query_tablet').css('display');
 var mobile = $('#media_query_mobile').css('display');
 
 if(tablet == 'none'){
  window.device.type = 'tablet';
  window.device.tablet = true;
 }else if(mobile == 'none'){
  window.device.type = 'mobile';
  window.device.mobile = true;
 }else{
  window.device.type = 'desktop';
  window.device.desktop = true;
 }
});
</script><script>Zepto(function($){
 $('#post').find('a:not(.category-href)').attr('target','_blank');
 $('table').addClass('pure-table pure-table-striped')
});
</script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-47211876-1']);
_gaq.push(['_trackPageview']);

(function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

</script></head><body><div id="fb-root"></div><script>(function(d, s, id) {
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) return;
 js = d.createElement(s); js.id = id;
 js.src = "//connect.facebook.net/ja_JP/all.js#xfbml=1";
 fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script><div id="media_query_desktop" class="pure-hidden-desktop"></div><div id="media_query_tablet" class="pure-hidden-tablet"></div><div id="media_query_mobile" class="pure-hidden-phone"></div><div id="outer_frame" class="effect8"><div id="header" class="pure-u-5-5"><div id="logo"><h1 id="logo_text"><span id="logo_text_inner">SLOW LIVING IN THE SKY</span></h1></div><div id="menu"><ul class="menu-list"><li class="menu-item first"><a href="/">HOME</a></li><li class="menu-item"><a href="/feed.xml">RSS</a></li><li class="menu-item"><a href="/sitemap.xml">SITEMAP</a></li></ul></div></div><div id="center_wrapper" class="pure-g-r"><div id="content" class="pure-u-2-3"><div id="content_inner"><div id="post_date">2013-12-05</div><h2 id="post_title">Xtend - Javaの未来を示すJava方言</h2><div id="categories"> <span id="categories-label">categories:</span><span class="category"><a href="../category.html?q=Java" class="category-href">Java</a></span></div><div id="post_photo"><img src="../img/20131205135159.png" alt="20131205135159.png"/></div><div id="post"><p>久しぶりに（初めて？）<b>Java</b>の話題です。</p>
<h2>Xtendが登場した経緯</h2>
<blockquote>
<p>この項は、Xtendの良さを説明する前振りなので、飛ばしてもOKです。</p>
</blockquote>
<p><span style="font-size: 120%"><b>枯れた言語 Java</b></span></p>
<p>一時期には一世を風靡したJavaですが、現在のJavaは完全にApacheなどの基板をなす、<b>&quot;枯れた言語&quot;</b>になってしまいました。</p>
<p>JavaAppletが使われなくなって長く経ちましたが、JavaFXはRIAから撤退し、SilverlightやAdobe Flexに譲りました。クライアントサイドJavaとして歴史は完全に失敗したと言えます。</p>
<p><span style="font-size: 120%"><b>JVM言語の登場</b></span></p>
<p>そんな中で逆に注目されているのが仮想マシンとしての <b>JVM</b>（Java Virtual Machine）です。</p>
<p>実際にJRubyやScala、ClojureなどはJVM言語として成功をしており、Twitterなどで活躍しています。</p>
<p>その経緯としては、Javaが以前として古い言語仕様のままで、柔軟性を欠いているということがありますが、逆にJVMが機能が充実しているからという理由もあります。</p>
<p><span style="font-size: 120%"><b>言語としてのJavaの現状</b></span></p>
<p>ただ、言語としてのJava自体には、C#にも採用されているラムダ式もなければ、型推論なども存在しないため、少人数では使いにくい言語になってしまいました。</p>
<p>Java8以降ではそれらの機能を徐々に取り込む予定があるようですが、なかなか予定通りには進んでいないようです。</p>
<hr>
<h2>Xtend</h2>
<p>前置きが長くなりましたが、ようやくXtendの登場ですね。</p>
<p>Xtendの公式サイトはeclipse.orgにあります。
<a href="http://www.eclipse.org/xtend/index.html">http://www.eclipse.org/xtend/index.html</a></p>
<p>前述のように、Javaの言語仕様がなかなか進化しない現状があり、それを先取りしようという動きがあってできたのが、<b>Eclipse</b>から登場した<b>Xtend</b>です。</p>
<p>どんな言語かというと、動画を見るとわかりやすいと思います。</p>
<p><iframe src="//player.vimeo.com/video/31248257?title=0&amp;byline=0&amp;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="http://vimeo.com/31248257">Xtend Intro</a> from <a href="http://vimeo.com/user2817486">Xtext Team</a> on <a href="https://vimeo.com">Vimeo</a>.</p></p>
<p>&quot;Javaっぽい&quot; 硬い表現が、どんどん柔軟になっていくのが心地いいですね。</p>
<p>こうなるのは次のような理由です。
<a href="https://www.eclipse.org/xtend/documentation.html">https://www.eclipse.org/xtend/documentation.html</a></p>
<ul>
<li>構文のシンプル化 （セミコロン不要など）</li>
<li>拡張メソッド</li>
<li>シンタックスシュガー</li>
<li>型推論</li>
<li>ラムダ式</li>
<li>ヒアドキュメント</li>
<li>テンプレート式</li>
<li>すべてが文ではなく式（すべての式が値を返す）</li>
<li>プロパティ</li>
<li>マクロ</li>
<li>Javaコードを出力</li>
</ul>
<p>これらの特徴のほとんどは、スクリプト言語や<a href="https://ja.wikipedia.org/wiki/%E9%96%A2%E6%95%B0%E5%9E%8B%E8%A8%80%E8%AA%9E">関数型言語</a>に由来するもので、Javaに比べると相当な柔軟性と効率性を持っている言語だといえます。</p>
<p>関数型言語の場合、例えばScalaはJavaの<b>1/2のコード量</b>で済むと言われているので、XtendもJavaと比べるとコード量はかなり減ると思います。</p>
<h2>型推論、ラムダ式、「すべてが式」とは</h2>
<p>ここで、<i><b>関数型言語に由来する機能</b></i>について解説しようと思います。</p>
<p>まず<a href="https://ja.wikipedia.org/wiki/%E5%9E%8B%E6%8E%A8%E8%AB%96">型推論</a>とは、その名の通り型を推測する機能で、型の宣言を省略することができます。もちろん明確に宣言することもできます。</p>
<p>メリットは、右辺が複雑な場合に、型を考える必要がなくなります。</p>
<p>デメリットは、思わぬ型が推論される場合があることや、コードがわかりづらくなる場合もあるので、ケースバイケースです。</p>
<blockquote>
<p>一見、型推論は関数型言語に関係ないような気がしますが、型推論は<a href="https://ja.wikipedia.org/wiki/%E3%83%A9%E3%83%A0%E3%83%80%E8%A8%88%E7%AE%97">ラムダ計算</a>に由来するものです。</p>
</blockquote>
<p>次に<a href="https://ja.wikipedia.org/wiki/ラムダ計算">ラムダ式</a>とは、JavaScriptなどの無名関数のことです。</p>
<p>メリットは、様々な点でコードが簡潔になったり、引数に関数を取る（<a href="https://ja.wikipedia.org/wiki/%E9%AB%98%E9%9A%8E%E9%96%A2%E6%95%B0">高階関数</a>）ことでより再利用可能なコードを書くことができます。</p>
<p>デメリットは、コードが読みづらくなる場合があったり、複雑になりすぎる場合があります。</p>
<p>最後に、<b>すべてが式</b>ということについてですが、これは関数型言語の典型的な性質です。</p>
<p>関数型言語の<b>「関数型」</b>の意味は、先ほど説明の中にもありましたが、</p>
<blockquote>
<p>関数を引数にとったり、関数を変数（定数）に格納したりでき、関数が型をもったりすること</p>
</blockquote>
<p>です。これを<a href="https://ja.wikipedia.org/wiki/%E7%AC%AC%E4%B8%80%E7%B4%9A%E9%96%A2%E6%95%B0">第一級関数</a>と言います。</p>
<p>この性質においては、すべての構文が値を返し、<b>式</b>として扱えることが必要となります。</p>
<p>このことについては詳しくは述べませんが、関数型言語の多くが<b>変数を扱えない</b>ことを踏まえれば、すべてが式であることが必要不可欠であるということが分かってくるかもしれません。</p>
<p>他のことについても解説したいところですが、詳しく書くときりがないので、実際使ってみるのが一番だと思います。</p>
<h2>まとめ</h2>
<p><b>Xtend</b>は、Java10を先取りできる実験的なJava方言で、かなりモダンな仕様を持った柔軟な言語です。</p>
<p>もしこれがJava10の仕様に採用されるとすれば、早くリリースしてもらいたいものですね。</p>
<div class="amazon"><div class="amazlet-box" style="margin-bottom:0px;"><div class="amazlet-image" style="float:left;margin:0px 12px 1px 0px;"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/489471499X/mvnhatenadiar-22/ref=nosim/" name="amazletlink" target="_blank"><img src="http://ecx.images-amazon.com/images/I/51E1m-weAXL._SL160_.jpg" alt="Effective Java 第2版 (The Java Series)" style="border: none;" /></a></div><div class="amazlet-info" style="line-height:120%; margin-bottom: 10px"><div class="amazlet-name" style="margin-bottom:10px;line-height:120%"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/489471499X/mvnhatenadiar-22/ref=nosim/" name="amazletlink" target="_blank">Effective Java 第2版 (The Java Series)</a><div class="amazlet-powered-date" style="font-size:80%;margin-top:5px;line-height:120%">posted with <a href="http://www.amazlet.com/" title="amazlet" target="_blank">amazlet</a> at 14.01.17</div></div><div class="amazlet-detail">Joshua Bloch <br />ピアソンエデュケーション <br />売り上げランキング: 156,212<br /></div><div class="amazlet-sub-info" style="float: left;"><div class="amazlet-link" style="margin-top: 5px"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/489471499X/mvnhatenadiar-22/ref=nosim/" name="amazletlink" target="_blank">Amazon.co.jpで詳細を見る</a></div></div></div><div class="amazlet-footer" style="clear: left"></div></div>
</div></div><div id="social_buttons" class="center"><span class="social_button"><div data-href="http://atmarksharp.github.io/posts/xtend-java-dialect.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false" class="fb-like"></div></span><span class="social_button"><a href="http://b.hatena.ne.jp/entry/http://atmarksharp.github.io/posts/xtend-java-dialect.html" data-hatena-bookmark-title="Xtend - Javaの未来を示すJava方言" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加" class="hatena-bookmark-button"><img src="http://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script type="text/javascript" src="http://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></span><span class="social_button"><a href="https://twitter.com/share" data-via="SakuraDictionar" class="twitter-share-button">ツイート</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
</script></span></div><div id="adsense_wrapper" class="center"><div id="adsense"><script async="async" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins style="display:block" data-ad-client="ca-pub-9672338973208782" data-ad-slot="8155892569" data-ad-format="auto" class="adsbygoogle"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div><div id="disqus_thread"><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'atmarksharp'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
 dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script><noscript>Please enable JavaScript to view the<a href="http://disqus.com/?ref_noscript">comments powered by Disqus.
</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div></div></div><div id="sidebar" class="pure-u-1-3"><div id="sidebar_inner"><div id="search_bar"><form id="search_bar_inner" action="http://www.google.com/search" method="get" target="_blank"><input type="hidden" name="q" value="site:atmarksharp.github.io"/><input type="text" name="q" style="color:gray" value="Search..." onfocus="(this.value == &quot;Search...&quot;)? this.value=&quot;&quot; : true" onblur="(this.value)? true : this.value=&quot;Search...&quot;" class="search-bar-text"/><input type="submit" class="search-bar-submit"/></form></div><h3 class="widget-title"><span class="widget-title-text">RECENT POSTS</span></h3><div class="widget-content"><ul class="widget-post-list"><li class="widget-post-item"><a href="./niconico-ginza-improve">ニコニコ動画GINZAのデザインを改善する</a></li><li class="widget-post-item"><a href="./blog-design-changed-2013-12-10">ブログの名前とデザインを変更しました</a></li><li class="widget-post-item"><a href="./hatena-delete-keyword-link">はてなブログ（ ダイアリー）で無料でキーワードリンクを消す方法</a></li><li class="widget-post-item"><a href="./ec-takuhai-becoming-worse">EC宅配がだんだんひどくなっている気がする</a></li><li class="widget-post-item"><a href="./sai-2-comming-soon">SAI2の進捗報告版が公開</a></li></ul></div><h3 class="widget-title"><span class="widget-title-text">PROFILE</span></h3><div class="widget-content"><ul class="widget-post-list"><li class="widget-post-item"><div class="github"><img src="../img/github.png" alt="github.png"/><a href="https://github.com/atmarksharp" target="_blank">atmarksharp</a></div></li></ul></div><h3 class="widget-title"><span class="widget-title-text">ABOUT</span></h3><div class="widget-content">IT系の内容を中心に、気になる情報を紹介します。
</div><h3 class="widget-title"><span class="widget-title-text">RSS</span></h3><div class="widget-content"><ul class="widget-post-list"><li class="widget-post-item"><div class="rss"><img src="../img/rss.gif" alt="rss.gif"/><a href="/feed.xml">RSS 2.0</a></div></li></ul></div></div></div></div><div id="footer"><div id="desktop-footer-content"><h4 class="footer-powered-title"><span class="footer-back">&nbsp THIS BLOG IS POWERED BY &nbsp</span></h4><div style="margin-bottom: 20px;" class="center"><a href="http://github.com/" target="_blank" alt="github.com"><img src="../img/github-logo.png" class="pow-logo"/></a><a href="http://bitbucket.org/" target="_blank" alt="bitbucket.org"><img src="../img/bitbucket-logo.png" class="pow-logo"/></a><a href="http://harpjs.com/" target="_blank" alt="harpjs.com"><img src="../img/harp-logo.png" class="pow-logo"/></a><a href="http://purecss.io/" target="_blank" alt="purecss.io"><img src="../img/pure-logo.png" class="pow-logo"/></a><a href="http://jade-lang.com/" target="_blank" alt="jade-lang.com"><img src="../img/jade-logo.png" class="pow-logo"/></a></div><h4 class="footer-powered-title"><span class="footer-back">&nbsp CREATED BY &nbsp</span></h4><div class="center"><a href="http://github.com/atmarksharp/" target="_blank" alt="github.com/atmarksharp"><img src="../img/user-logo.png" class="pow-logo"/></a></div></div></div></div></body>